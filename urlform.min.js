var y={prefix:"",shareURLBtn:"#shareURLBtn",shareURL:"#shareURL",shareURLArea:"#shareURLArea"},h,o;function I(e,r){h={},h=U(r),o=document.querySelector(h.shareURLBtn),o!=null&&o.addEventListener("click",()=>L(e))}async function p(e,r){if(i(e))return;var u=new URL(window.location.href);let n={};for(var t of u.searchParams.entries())n[t[0]]=t[1];var l=window.location.hash.substring(1);if(!i(l)){let a=l.split("?");i(a[1])||a[1].split("&").forEach(d=>{let s=d.split("=");if(s[1]===void 0){n[s[0]]=null;return}n[s[0]]=unescape(s[1])})}i(n)||(v(e,n,r),L(e))}function v(e,r,u){i(e)||B(e,r,U(u))}function B(e,r,u){for(let n in e){let t=e[n].name,l=e[n].id,a=e[n].type,f=r[t],d=e[n].funcTrue;if(t=u.prefix+t,i(l)&&(l=t),func!==void 0&&e[n].func(),a=="bool"&&d!==void 0&&f!==void 0&&(f===""||f==="true"||f===!0)&&e[n].funcTrue(),!i(f)){if(a=="bool"&&(f=="true"||f===!0)){let c=document.getElementById(l);c!=null&&(c.checked=!0);continue}let s=document.getElementById(l);s!=null&&(s.value=f)}}}function U(e){if(e.FormJs_Sanitized===!0)return;let r={...y};return i(e)||(i(e.prefix)||(r.prefix=e.prefix),i(e.shareURLArea)||(r.shareURLArea=e.shareURLArea),i(e.shareURL)||(r.shareURL=e.shareURL),i(e.shareURLBtn)||(r.shareURLBtn=e.shareURLBtn),r.FormJs_Sanitized=!0),r}function L(e){var r=new URL(window.location.href);for(let d in e){var u=e[d].name,n=e[d].id,t=e[d].type;let s=u;i(n)||(s=n);var l=document.getElementById(h.prefix+s);let c;l!==null&&(c=l.value,t=="bool"&&(l.checked?c="true":c="")),i(c)?r.searchParams.delete(u):r.searchParams.set(u,c)}i(r.hash.substring(1))&&(r.hash="");let a=document.querySelector(h.shareURL);a!=null&&(a.innerHTML=r.href.link(r.href));let f=document.querySelector(h.shareURLArea);return f!=null&&(f.innerHTML=r.href),r}function w(e){return JSON.stringify(R(e))}function R(e){var r=new FormData(e),u={};for(let[n,t]of r)(t=="true"||t=="on")&&(t=!0),(t=="false"||t=="unchecked")&&(t=!1),n.substring(0,6)=="input_"&&(n=n.substring(6)),i(t)||(u[n]=t);return u}function x(e,r){U(r);for(let u in e){let n=r.prefix+e[u].name,t=e[u].id,l=e[u].type;if(i(t)&&(t=n),l=="bool"){let f=document.getElementById(t);f!=null&&(f.checked=!1);continue}let a=document.getElementById(t);a!=null&&(a.value="")}}function A(e){return i(R(e))}function i(e){return typeof e=="function"?!1:Array.isArray(e)?i(e[0]):e===Object(e)?Object.keys(e).length===0:!m(e)}function m(e){return!(e===!1||e==="false"||e===void 0||e==="undefined"||e===""||e===0||e==="0"||e===null||e==="null"||e==="NaN"||Number.isNaN(e)||e===Object(e))}export{x as Clear,y as DefaultFormOptions,I as Init,A as IsEmpty,R as Parse,p as PopulateFromURI,v as PopulateFromValues,w as Serialize};
