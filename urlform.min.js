"use strict";const L={prefix:"",shareURLBtn:"#shareURLBtn",shareURL:"#shareURL",shareURLArea:"#shareURLArea"};var l,i,m,h=!1;function y(e,r){i=e,l={},l=w(r),m=document.querySelector(l.shareURLBtn),m!=null&&m.addEventListener("click",p),h=!0}async function v(){if(!h)throw new Error("URLFormJS: Init() must be called first to initialize the URLFormJS module.");if(t(i))return;var e=new URL(window.location.href);let r={};for(var a of e.searchParams.entries())r[a[0]]=a[1];var f=window.location.hash.substring(1);if(!t(f)){let n=f.split("?");t(n[0])||n[0].split("&").forEach(u=>{let s=u.split("=");if(s[1]===void 0){r[s[0]]=null;return}r[s[0]]=unescape(s[1])})}t(r)||(R(r),p())}function R(e){if(!h)throw new Error("URLFormJS: Init() must be called first to initialize the URLFormJS module.");t(i)||F(e)}function F(e){for(const r in i){let a=i[r].name,f=i[r].id,n=i[r].type,u=e[a],s=i[r].funcTrue,o=i[r].func;if(a=l.prefix+a,t(f)&&(f=a),t(o)||o(),n=="bool"&&s!==void 0&&u!==void 0&&(u===""||u==="true"||u===!0)&&s(),!t(u)){if(n=="bool"&&(u=="true"||u===!0)){let c=document.getElementById(f);c!=null&&(c.checked=!0);continue}let d=document.getElementById(f);d!=null&&(d.value=u)}}}function w(e){let r={...L};if(t(e))return r.FormJs_Sanitized=!0,r;if(!(!t(e.FormJs_Sanitized)&&e.FormJs_Sanitized===!0))return t(e)||(t(e.prefix)||(r.prefix=e.prefix),t(e.shareURLArea)||(r.shareURLArea=e.shareURLArea),t(e.shareURL)||(r.shareURL=e.shareURL),t(e.shareURLBtn)||(r.shareURLBtn=e.shareURLBtn),r.FormJs_Sanitized=!0),r}function p(){if(t(i))return;var e=new URL(window.location.href);for(const o in i){var r=i[o].name,a=i[o].id,f=i[o].type;let d=r;t(a)||(d=a);var n=document.getElementById(l.prefix+d);let c;n!==null&&(c=n.value,f=="bool"&&(n.checked?c="true":c="")),t(c)?e.searchParams.delete(r):e.searchParams.set(r,c)}t(e.hash.substring(1))&&(e.hash="");let u=document.querySelector(l.shareURL);u!=null&&(u.innerHTML=e.href.link(e.href));let s=document.querySelector(l.shareURLArea);return s!=null&&(s.innerHTML=e.href),e}function I(e){return JSON.stringify(U(e))}function U(e){var r=new FormData(e),a={};for(let[f,n]of r)(n=="true"||n=="on")&&(n=!0),(n=="false"||n=="unchecked")&&(n=!1),t(l)||t(l.prefix)||(f=f.substring(l.prefix.length)),t(n)||(a[f]=n);return a}function S(){if(!h)throw new Error("URLFormJS: Init() must be called first to initialize the URLFormJS module.");if(!t(i))for(const e in i){let r=l.prefix+i[e].name,a=i[e].id,f=i[e].type;if(t(a)&&(a=r),f=="bool"){let u=document.getElementById(a);u!=null&&(u.checked=!1);continue}let n=document.getElementById(a);n!=null&&(n.value="")}}function B(e){return t(U(e))}function t(e){return typeof e=="function"?!1:Array.isArray(e)?t(e[0]):e===Object(e)?Object.keys(e).length===0:!E(e)}function E(e){return!(e===!1||e==="false"||e===void 0||e==="undefined"||e===""||e===0||e==="0"||e===null||e==="null"||e==="NaN"||Number.isNaN(e)||e===Object(e))}"use strict";export{S as Clear,L as DefaultFormOptions,y as Init,B as IsEmpty,U as Objectify,v as PopulateFromURI,R as PopulateFromValues,I as Serialize};
